{"ast":null,"code":"import _objectSpread from\"F:/uas/uas_fe/frontend-uas/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useEffect}from\"react\";import{useForm}from\"react-hook-form\";import{useMutation}from\"@tanstack/react-query\";import{register as registerUser}from\"../Action/Auth\";import{useNavigate,Link}from\"react-router-dom\";import{toast}from\"react-toastify\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Login(){var _useForm=useForm(),register=_useForm.register,handleSubmit=_useForm.handleSubmit,resetField=_useForm.resetField;var navigate=useNavigate();var _useMutation=useMutation(registerUser),mutate=_useMutation.mutate,status=_useMutation.status,data=_useMutation.data;useEffect(function(){if(status===\"success\"){var _data$data;if(data!==null&&data!==void 0&&(_data$data=data.data)!==null&&_data$data!==void 0&&_data$data.success){navigate(\"/login\");resetField();toast(\"Register Success, Please Login\");}else{var _data$response,_data$response$data;toast.error(data===null||data===void 0?void 0:(_data$response=data.response)===null||_data$response===void 0?void 0:(_data$response$data=_data$response.data)===null||_data$response$data===void 0?void 0:_data$response$data.message);}}},[status]);return/*#__PURE__*/_jsx(\"section\",{className:\"bg-gray-50 dark:bg-gray-900\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col items-center justify-center px-6 py-8 mx-auto md:h-screen lg:py-0\",children:[/*#__PURE__*/_jsx(Link,{to:\"/\",className:\"flex items-center mb-6 text-2xl font-semibold text-gray-900 dark:text-white\",children:\"UAS Frontend\"}),/*#__PURE__*/_jsx(\"div\",{className:\"w-full bg-white rounded-lg shadow dark:border md:mt-0 sm:max-w-md xl:p-0 dark:bg-gray-800 dark:border-gray-700\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"p-6 space-y-4 md:space-y-6 sm:p-8\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-xl font-bold leading-tight tracking-tight text-gray-900 md:text-2xl dark:text-white\",children:\"Sign Up to your account\"}),/*#__PURE__*/_jsxs(\"form\",{className:\"space-y-4 md:space-y-6\",onSubmit:handleSubmit(mutate),children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block mb-1 text-sm font-medium text-gray-900 dark:text-white\",children:\"Full Name\"}),/*#__PURE__*/_jsx(\"input\",_objectSpread({type:\"text\",name:\"name\",className:\"bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500\",placeholder:\"Full Name\",required:\"\"},register(\"name\")))]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block mb-1 text-sm font-medium text-gray-900 dark:text-white\",children:\"Your email\"}),/*#__PURE__*/_jsx(\"input\",_objectSpread({type:\"email\",name:\"email\",id:\"email\",className:\"bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500\",placeholder:\"name@company.com\",required:\"\"},register(\"email\")))]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block mb-1 text-sm font-medium text-gray-900 dark:text-white\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",_objectSpread({type:\"password\",name:\"password\",id:\"password\",placeholder:\"\\u2022\\u2022\\u2022\\u2022\\u2022\\u2022\\u2022\\u2022\",className:\"bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500\",required:\"\"},register(\"password\")))]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block mb-1 text-sm font-medium text-gray-900 dark:text-white\",children:\"Role\"}),/*#__PURE__*/_jsxs(\"select\",_objectSpread(_objectSpread({name:\"role\",id:\"role\",className:\"bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500\",required:\"\"},register(\"role\")),{},{defaultValue:\"user\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"user\",children:\"User\"}),/*#__PURE__*/_jsx(\"option\",{value:\"admin\",children:\"Admin\"})]}))]}),/*#__PURE__*/_jsx(\"button\",{className:\"w-full px-4 py-2 text-sm font-medium leading-5 text-white transition-colors duration-150 bg-blue-600 border border-transparent rounded-lg active:bg-blue-600 hover:bg-blue-700 focus:outline-none focus:shadow-outline-primary\",children:\"Sign In\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm font-light text-gray-500 dark:text-gray-400\",children:[\"Already have an account?\",\" \",/*#__PURE__*/_jsx(Link,{to:\"/login\",className:\"font-medium text-primary-600 hover:underline dark:text-primary-500\",children:\"Login\"})]})]})]})})]})});}","map":{"version":3,"names":["React","useEffect","useForm","useMutation","register","registerUser","useNavigate","Link","toast","Login","handleSubmit","resetField","navigate","mutate","status","data","success","error","response","message"],"sources":["F:/uas/uas_fe/frontend-uas/src/Pages/Register.jsx"],"sourcesContent":["import React, { useEffect } from \"react\";\r\n\r\nimport { useForm } from \"react-hook-form\";\r\nimport { useMutation } from \"@tanstack/react-query\";\r\nimport { register as registerUser } from \"../Action/Auth\";\r\nimport { useNavigate, Link } from \"react-router-dom\";\r\nimport { toast } from \"react-toastify\";\r\n\r\nexport default function Login() {\r\n  const { register, handleSubmit, resetField } = useForm();\r\n  const navigate = useNavigate();\r\n\r\n  const { mutate, status, data } = useMutation(registerUser);\r\n\r\n  useEffect(() => {\r\n    if (status === \"success\") {\r\n      if (data?.data?.success) {\r\n        navigate(\"/login\");\r\n        resetField();\r\n        toast(\"Register Success, Please Login\");\r\n      } else {\r\n        toast.error(data?.response?.data?.message);\r\n      }\r\n    }\r\n  }, [status]);\r\n\r\n  return (\r\n    <section className=\"bg-gray-50 dark:bg-gray-900\">\r\n      <div className=\"flex flex-col items-center justify-center px-6 py-8 mx-auto md:h-screen lg:py-0\">\r\n        <Link\r\n          to=\"/\"\r\n          className=\"flex items-center mb-6 text-2xl font-semibold text-gray-900 dark:text-white\"\r\n        >\r\n          UAS Frontend\r\n        </Link>\r\n        <div className=\"w-full bg-white rounded-lg shadow dark:border md:mt-0 sm:max-w-md xl:p-0 dark:bg-gray-800 dark:border-gray-700\">\r\n          <div className=\"p-6 space-y-4 md:space-y-6 sm:p-8\">\r\n            <h1 className=\"text-xl font-bold leading-tight tracking-tight text-gray-900 md:text-2xl dark:text-white\">\r\n              Sign Up to your account\r\n            </h1>\r\n            <form\r\n              className=\"space-y-4 md:space-y-6\"\r\n              onSubmit={handleSubmit(mutate)}\r\n            >\r\n              <div>\r\n                <label className=\"block mb-1 text-sm font-medium text-gray-900 dark:text-white\">\r\n                  Full Name\r\n                </label>\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"name\"\r\n                  className=\"bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500\"\r\n                  placeholder=\"Full Name\"\r\n                  required=\"\"\r\n                  {...register(\"name\")}\r\n                />\r\n              </div>\r\n              <div>\r\n                <label className=\"block mb-1 text-sm font-medium text-gray-900 dark:text-white\">\r\n                  Your email\r\n                </label>\r\n                <input\r\n                  type=\"email\"\r\n                  name=\"email\"\r\n                  id=\"email\"\r\n                  className=\"bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500\"\r\n                  placeholder=\"name@company.com\"\r\n                  required=\"\"\r\n                  {...register(\"email\")}\r\n                />\r\n              </div>\r\n              <div>\r\n                <label className=\"block mb-1 text-sm font-medium text-gray-900 dark:text-white\">\r\n                  Password\r\n                </label>\r\n                <input\r\n                  type=\"password\"\r\n                  name=\"password\"\r\n                  id=\"password\"\r\n                  placeholder=\"••••••••\"\r\n                  className=\"bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500\"\r\n                  required=\"\"\r\n                  {...register(\"password\")}\r\n                />\r\n              </div>\r\n              <div>\r\n                <label className=\"block mb-1 text-sm font-medium text-gray-900 dark:text-white\">\r\n                  Role\r\n                </label>\r\n                <select\r\n                  name=\"role\"\r\n                  id=\"role\"\r\n                  className=\"bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500\"\r\n                  required=\"\"\r\n                  {...register(\"role\")}\r\n                  defaultValue=\"user\"\r\n                >\r\n                  <option value=\"user\">User</option>\r\n                  <option value=\"admin\">Admin</option>\r\n                </select>\r\n              </div>\r\n\r\n              <button className=\"w-full px-4 py-2 text-sm font-medium leading-5 text-white transition-colors duration-150 bg-blue-600 border border-transparent rounded-lg active:bg-blue-600 hover:bg-blue-700 focus:outline-none focus:shadow-outline-primary\">\r\n                Sign In\r\n              </button>\r\n\r\n              <p className=\"text-sm font-light text-gray-500 dark:text-gray-400\">\r\n                Already have an account?{\" \"}\r\n                <Link\r\n                  to=\"/login\"\r\n                  className=\"font-medium text-primary-600 hover:underline dark:text-primary-500\"\r\n                >\r\n                  Login\r\n                </Link>\r\n              </p>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </section>\r\n  );\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}